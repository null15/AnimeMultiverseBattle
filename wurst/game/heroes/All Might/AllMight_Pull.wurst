package AllMight_Pull

import objectIDs
import Pull
import ClosureForGroups
import RegisterEvents
import TimeStop

function onCast()
	if GetSpellAbilityId() == ALL_MIGHT_PULL1
		let caster = GetTriggerUnit()
		let target = GetSpellTargetUnit()
		if target != null and caster.isEnemyOf(target)
			Pull.toUnit(target, caster, 128., 800.)
	if GetSpellAbilityId() == ALL_MIGHT_PULL2
		let caster = GetTriggerUnit()
		let center = EventData.getSpellTargetPos()
		forUnitsInRange(center, 600.) (unit u) ->
			if caster.isEnemyOf(u)
				Pull.toPoint(u, center, 128., 800.)

function prop()
	if GetSpellAbilityId() == 'root'
		let targ = GetSpellTargetUnit()
		if targ != null
			targ.timeStopTimed(2)

init
	registerPlayerUnitEvent(EVENT_PLAYER_UNIT_SPELL_EFFECT, () -> onCast())
	registerPlayerUnitEvent(EVENT_PLAYER_UNIT_SPELL_EFFECT, () -> prop())
