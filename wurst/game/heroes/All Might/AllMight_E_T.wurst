package AllMight_E_T

import abilityDefinitions
import Knockback
import StatusEffects
import RegisterEvents
import ClosureForGroups

function onCast()
	if GetSpellAbilityId() == ALL_MIGHT_E_T
		let caster = GetTriggerUnit()
		let center = EventData.getSpellTargetPos()
		let radius = 600.
		forUnitsInRange(center, radius) (unit u) ->
			if u != caster and u.isAlive() and not u.isType(UNIT_TYPE_STRUCTURE) and caster.isEnemyOf(u)
				knockbackUnit(u, center, 500., 0.6)
				stunUnit(u, 0.5)
		knockbackUnit(caster, center, 300., 0.4)

init
	registerPlayerUnitEvent(EVENT_PLAYER_UNIT_SPELL_EFFECT, () -> onCast())
